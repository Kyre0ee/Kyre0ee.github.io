---
layout: post
title: 第七章 
date: 2019-05-07 15:57 +0800
tags: 计组-MIPS汇编
toc: true
---
# 第七章
***
# 计算机组成原理 - 指令系统学习笔记

## 1. 指令系统概述

指令系统是计算机硬件和软件之间的桥梁，定义了计算机能够执行的操作类型、操作数类型、寻址方式等，是计算机体系结构的重要组成部分。指令系统包括一系列指令，每条指令规定了计算机执行的一项操作。

## 2. 指令格式

指令格式定义了指令的组成结构，主要包括操作码、操作数以及寻址方式等字段。指令格式的设计需要考虑多个因素，包括指令长度、寻址方式的灵活性、编码复杂度等。常见的指令格式有定长格式和变长格式两种。

## 3. 操作类型

操作类型指的是指令所执行的操作，包括算术运算、逻辑运算、数据传输、控制转移等。不同的指令可以执行不同类型的操作，例如加法指令执行算术运算，跳转指令执行控制转移操作。

## 4. 操作数类型

操作数类型指的是指令所操作的数据类型，包括整数、浮点数、字符、地址等。不同的操作数类型需要使用不同的指令进行处理，例如整数加法和浮点数加法需要使用不同的指令。

## 5. 寻址方式

寻址方式指的是指令获取操作数的方式，包括直接寻址、间接寻址、寄存器寻址、相对寻址等。不同的寻址方式适用于不同的应用场景，例如直接寻址适用于访问存储器中的数据，寄存器寻址适用于对寄存器中的数据进行操作。

### 寻址方式的详细介绍：

- **直接寻址**：指令中给出了操作数的地址，计算机直接从该地址读取操作数。优点是简单直接，缺点是无法访问非连续存储的数据。

- **间接寻址**：指令中给出了一个地址，该地址存放了实际操作数的地址，计算机先从该地址读取实际操作数的地址，然后再从实际地址读取操作数。优点是可以间接访问存储器中的数据，缺点是增加了访问内存的次数。

- **寄存器寻址**：指令中给出了一个寄存器的编号，计算机直接从该寄存器中读取操作数。优点是访问速度快，缺点是寄存器数量有限。

- **相对寻址**：指令中给出了一个相对于当前指令地址的偏移量，计算机根据当前指令的地址和偏移量计算出实际操作数的地址。优点是可以实现相对地址访问，适用于程序控制转移。

## 6. 操作码编码

操作码编码是将指令操作类型和操作数类型等信息编码成二进制形式，以便计算机进行识别和执行。操作码编码需要考虑到指令系统的设计目标和约束条件，例如操作码长度、编码复杂度等。

## 7. 指令系统的分类

指令系统可以根据操作类型和操作数类型的不同进行分类，常见的分类包括RISC指令集（精简指令集）、CISC指令集（复杂指令集）、向量指令集等。不同的指令系统适用于不同的应用场景，例如RISC指令集适用于需要高性能和低功耗的应用。

## 8. 程序的机器级表示

程序的机器级表示是指程序在计算机中的二进制形式，包括指令和数据等，是计算机直接执行的形式。机器级表示直接映射到计算机硬件，因此具有较高的执行效率和性能。

## 9. 指令系统设计的考虑因素

指令系统设计需要考虑多个因素，包括性能、复杂度、兼容性、编程方便性等。优秀的指令系统应该在这些因素之间取得平衡，既能满足计算机硬件和软件的需求，又能够提高系统的性能和效率。

## 10. 指令系统的优化策略

指令系统的优化策略包括简化指令格式、优化操作类型、改进寻址方式、精简操作码编码等。优化指令系统可以提高计算机的执行效率和性能，降低能耗和成本，提高系统的可靠性和稳定性。

## 11. 寻址方式

寻址方式是指计算机指令获取操作数的方式，不同的寻址方式适用于不同的场景，影响着程序的执行效率和性能。

常见的寻址方式包括直接寻址、间接寻址、寄存器寻址和相对寻址等。

- **直接寻址**：指令中给出了操作数的地址，计算机直接从该地址读取操作数。例如：`MOV AX, [BX]`，将寄存器BX中存储的地址处的内容加载到寄存器AX中。

- **间接寻址**：指令中给出了一个地址，该地址存放了实际操作数的地址，计算机先从该地址读取实际操作数的地址，然后再从实际地址读取操作数。例如：`MOV AX, [BX]`，将寄存器BX中存储的地址处的内容作为地址，加载该地址处的内容到寄存器AX中。

- **寄存器寻址**：指令中给出了一个寄存器的编号，计算机直接从该寄存器中读取操作数。例如：`ADD AX, BX`，将寄存器BX中的内容与寄存器AX中的内容相加，并将结果存入寄存器AX中。

- **相对寻址**：指令中给出了一个相对于当前指令地址的偏移量，计算机根据当前指令的地址和偏移量计算出实际操作数的地址。例如：`JMP LABEL`，跳转到代码中标记为LABEL处执行。

## 12. 指令格式及其举例

指令格式定义了指令的组成结构，包括操作码、操作数以及寻址方式等字段。

常见的指令格式有定长格式和变长格式两种。

举例：

- **定长格式**：每条指令的长度固定，便于解析和执行。例如：IA-32指令系统中的指令格式。

- **变长格式**：指令的长度根据操作类型和操作数个数而变化，灵活性较高。例如：MIPS指令系统中的指令格式。

## 13. IA-32指令系统举例

IA-32指令系统是Intel和AMD等厂商推出的一种常见的CISC（复杂指令集计算机）架构指令系统。

举例：`MOV`指令用于数据传输，`ADD`指令用于加法运算，`JMP`指令用于无条件跳转等。

## 14. MIPS指令系统举例

MIPS指令系统是一种常见的RISC（精简指令集计算机）架构指令系统，具有指令格式简单、执行效率高的特点。

举例：`ADD`指令用于加法运算，`SUB`指令用于减法运算，`BEQ`指令用于比较两个寄存器的值是否相等等。

## 15. MIPS对过程调用的支持

MIPS指令系统提供了一套完善的过程调用支持，包括参数传递、返回地址保存、栈管理等。

例如，`JAL`指令用于调用函数并保存返回地址，`JR`指令用于返回函数调用的地址等。


