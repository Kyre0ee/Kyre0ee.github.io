---
layout: post
title: 第一章 计算机发展
date: 2019-05-01 15:57 +0800
tags: 计组-MIPS汇编
toc: true
---
# 第一章
***
## 1.1计算机发展过程
+ 第一台通用电子计算机ENIAC1946年诞生。
+ 冯诺依曼-存储程序通用电子计算机--EDVAC
  - 冯诺依曼结构最重要的思想是："存储程序"
  - 工作方式： 任何要计算机完成的工作都要先被编写成程序，然后将程序和原始数据送入主存并启动执行。一旦程序被启动，计算机应能在不需要操作人员干预下，自动完成逐条取出指令和执行指令的任务。
+ 几乎现代所有的通用计算机大都采用冯诺依曼结构，因此，IAS计算机是现代计算机的原型机。

![image](https://github.com/Kyre0ee/Kyre0ee.github.io/assets/169347540/a8b52a52-554b-4fd8-a3c5-bd3b80bd050c)

+ 主存-用来存放程序和数据
+ 自动逐条读取指令的部件
+ 具体执行指令的部件
+ 程序由指令构成
+ 指令描述如何对数据进行处理
+ 将程序和原始数据输入计算机的部件
+ 将运算结果输出计算机的部件

![image](https://github.com/Kyre0ee/Kyre0ee.github.io/assets/169347540/1b433f2d-98b0-441a-a5b2-af7eff9d544c)

早期，部件之间用分散方式相连。现在部件之间大多用总线方式相连。
### 冯诺依曼的主要思想
1. 计算机应由运算器、控制器、存储器、输入设备和输出设备五个基本部件组成。
2. 各基本部件的功能是
   + 存储器不仅能存放数据，而且也能存放指令，形式上两者没有区别，但计算机应能区分数据还是指令。
   + 控制器能自动取出指令来执行。
   + 运算器应能进行加减乘除四种基本算术运算，并且也能进行一些逻辑运算和附加运算。
   + 操作人员可以通过输入设备、输出设备和主机进行通信。
3. 内部以二进制表示指令和数据。每条指令由操作码和地址码两部分组成。操作码指出操作类型，地址码指出操作数的地址。由一串指令组成程序。
4. 采用”存储程序“工作方式。
## 1.2现代计算机结果模型及工作原理
1. 现代计算机结构模型
![image](https://github.com/Kyre0ee/Kyre0ee.github.io/assets/169347540/20870b91-7e26-4485-8a32-03d694bd1bac)

2. 计算机中最基本的部件
+ CPU：中央处理器
+ PC: 程序计数器
+ MAR：存储器地址寄存器
+ ALU：算术逻辑部件
+ IR: 指令寄存器
+ MDR: 存储器数据寄存器
+ GPRS:通用寄存器组（由若干通用寄存器组成，早期就是累加器）

3. 计算机如何工作
+ 程序在执行前： 数据和指令事先存放在存储器中，每条指令和每个数据都有地址，指令按序存放，指令由OP、ADDR字段组成，程序起始地址置PC
+ 开始执行程序
  - 第一步： 根据PC取指令
  - 第二步： 指令译码
  - 第三步： 取操作数
  - 第四步： 指令执行
  - 第五步： 回写结果
  - 第六步： 修改PC的值
+ 继续执行下一条指令
4. 指令和数据
  + 程序启动前，指令和数据都存放在存储器中，形式上没有差别，都是0/1序列。
  + 采用”存储程序“工作方式-程序由指令组成，程序被启动后，计算机能自动取出一条条指令执行，在执行过程中无需人的干扰
  + 指令中需给出的信息：
    - 操作性质--操作码
    - 源操作数1或/和源操作数2--立即数、寄存器编号、存储地址
    - 目的操作数地址--寄存器编号、存储地址
    - 存储地址的描述与操作数的数据结构有关
## 1.3从机器语言到高级编程语言
1. 最早的程序开发过程
   + 用机器语言编写程序，并记录在纸带或者卡片上，输入：按钮、开关等 输出：指示灯等 所有信息都是0/1序列
   + 若在第四条指令前加入指令，则需要重新计算地址码然后重新打孔，不灵活。书写、阅读困难。
2. 用汇编语言开发程序
   + 用符号表示跳转位置和变量位置
   + 用助记符表示操作码，用标号表示位置，用助记符表示寄存器
   + 在第四条指令前加指令时不用改变其他指令的地址码。
   + 优点：不会因为增减指令而需要修改其他指令、不需记忆指令编码，编写方便、可读性比机器语言强
   + 新的问题：机器不认识这些指令，所以需要将汇编语言转换为机器语言，用汇编程序转换。
3. 进一步认识机器级语言
   + 汇编语言程序由汇编指令构成
   + 用助记符和标号来表示的指令--与机器指令一一对应
   + 指令是什么？
     - 包含操作码和操作数或其地址码--机器指令用二进制表示、汇编指令用符号表示
     - 只能描述：取或存一个数、两个数加或乘除与或等、根据运算结果判断是否转移执行
   + 机器语言和汇编语言都是面向机器结构的语言，故它们统称为机器级语言。 
4. 用高级语言开发程序
   + 随着技术的发展，出现了许多高级编程语言
     - 它们与具体机器结构无关
     - 面向算法描述，比机器级语言描述能力强的多
     - 高级语言中一条语句对应几条、几十条甚至几百条指令
     - 由面向过程和面向对象的语言之分
     - 处理逻辑分为三种结构：顺序结构、选择结构、循环结构
     - 有两种转换方式： 编译和解释
       * 编译程序（Complier）:将高级语言源程序转换为机器级目标程序，执行时只要启动目标程序即可
       * 解释程序（Interpreter）:将高级语言语句逐条翻译成机器指令并立即执行，不生成目标文件。
## 1.4程序的开发和执行及其支撑环境
1. 一个典型程序的转换处理过程
   ![image](https://github.com/Kyre0ee/Kyre0ee.github.io/assets/169347540/39fab26b-4cfc-457b-b77d-23af8e279778)
2. 程序的数据流动过程
   ![image](https://github.com/Kyre0ee/Kyre0ee.github.io/assets/169347540/67d1fde9-e8a4-4ae2-ace7-25c0203569bd)
+ 数据经常在各存储部件间传送。故现代计算机大多采用缓存技术。
+ 所有过程都是在CPU执行指令所产生的控制信号的作用下进行的。
3. 不同层次语言之间的等价代换
   ![image](https://github.com/Kyre0ee/Kyre0ee.github.io/assets/169347540/1084ed8e-4dbd-4bb6-8fc6-c1c5ad0f19da)
4. 开发和运行程序需要什么支撑？
  * 最早的程序开发很简单--直接输入指令和数据，启动后把第一条指令地址送PC开始执行
  * 用高级语言开发程序需要复杂的支撑环境
    1. 语言处理程序
    - 需要编辑器编写源程序
    - 需要一套翻译转换软件处理各类源程序
      + 编译方式：预处理程序、编译器、汇编器、链接器
      + 解释方式：解释程序
    2. 语言的运行时系统
    -需要一个可以执行程序的界面（环境）
      + GUI方式： 图形用户界面
      + GUI方式： 命令行用户界面
    3. 操作系统内核
> 支撑程序开发和运行的环境由系统软件提供，最重要的系统软件是操作系统和语言处理系统，语言处理系统运行在操作系统之上，操作系统利用指令管理硬件
![image](https://github.com/Kyre0ee/Kyre0ee.github.io/assets/169347540/54fbbc21-de01-4db3-89ce-d096f7959aec)

## 1.5现代计算机系统的层次结构
1. 早期计算机系统的层次
   + 最早的计算机用机器语言编程，机器语言称为第一代程序设计语言
     ![image](https://github.com/Kyre0ee/Kyre0ee.github.io/assets/169347540/8eaa8a9c-d2d6-4943-92a4-18428ed3d09e)
   + 后来用汇编语言编程，汇编语言称为第二代程序设计语言
  ![image](https://github.com/Kyre0ee/Kyre0ee.github.io/assets/169347540/1d3c5259-283f-46fd-8e8d-bbf1c7e12d2d)

2. 现代(传统)计算机系统的层次
   + 现代计算机用高级语言编程
     - 第三代程序设计语言为过程式语言，编码时需要描述实现过程，即如何做
     - 第四代程序设计语言为非过程化语言，编程时只需说明做什么不需要描述具体的算法实现细节
  ![image](https://github.com/Kyre0ee/Kyre0ee.github.io/assets/169347540/63ce8a40-07e8-4488-bcad-1ad556373d62)
> 语言处理系统包括： 各种语言处理程序（如编译、汇编、链接）、运行时系统（如库函数、调试、优化等功能）。操作系统包括人机交互界面、提供服务功能的内核例程。

## 1.6计算机系统抽象层的转换
![image](https://github.com/Kyre0ee/Kyre0ee.github.io/assets/169347540/40e937bd-5b4a-4749-bf94-00444f2dd552)

## 1.7计算机系统的不同用户
+ 最终用户--工作在由应用程序提供的最上面的抽象层
+ 系统管理员--工作在由操作系统提供的抽象层
+ 应用程序员--工作在由语言处理系统的抽象层，语言处理系统建立在操作系统之上
+ 系统程序员--实现系统软件工作在ISA层次，必须对ISA非常了解.编译器和汇编器的目标程序由机器级代码组成，操作系统通过指令直接对硬件进行编程控制
+ ISA处于软件和硬件的交界面，ISA是对硬件的抽象，所有软件功能都建立在ISA之上。
![image](https://github.com/Kyre0ee/Kyre0ee.github.io/assets/169347540/e364e7fe-822e-438e-b722-6e823ad6d641)

## 1.8指令集体系结构（ISA）
+ ISA指Instruction Set Architecture，即指令集体系结构，有时简称为指令系统
+ ISA是一种规约(Specification)，它规定了如何使用硬件
  - 可执行的指令的集合，包括指令格式、操作种类以及每中操作对应的操作数的相应规定；
  - 指令可以接受的操作数的类型
  - 操作数所能存放的寄存器组的结构，包括每个寄存器的名称、编号、长度和用途；
  - 操作数所能存放的存储空间的大小和编址方式；
  - 操作数在存储空间存放时按照大端还是小端方式存放；
  - 指令获取操作数的方式，即寻址方式；
  - 指令执行过程的控制方式，包括程序计数器（PC）、条件码定义
+ ISA在通用计算机系统中是必不可少的一个抽象层 
+ ISA和计算机组成(微结构)之间的关系
  - 不同ISA规定的指令集不同，如IA-32、MIPS、ARM等
  - 计算机组成必须能够实现ISA规定的功能，如提供GPR、标志、运算电路等
  - 同一种ISA可以有不同的计算机组成，如乘法指令可用ALU或乘法器实现
  - ISA是计算机组成的一个抽象


