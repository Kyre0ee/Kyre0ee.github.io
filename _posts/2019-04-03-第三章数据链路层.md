---
layout: post
title: 第三章 数据链路层
date: 2019-04-03 15:57 +0800
tags: 计算机网络
toc: true
---
# 1.数据链路层基础概论
***
## 1.1数据链路层概念
数据链路层在物理层和网络层之间的协议，提供相邻结点的可靠数据传输。
## 1.2帧的概念
+ 数据链路层的协议数据单元
+ 组成
  * 帧头--源MAC地址、目的MAC地址、类型
    - MAC地址：48位，每一张网卡独一无二
  * 数据
  * 帧尾--校验
## 1.3以太网数据帧中的MAC和LLC
+ 以太网帧结构Ethernet_II  以太网一般通过广播总线型传播
  D.MAC--S.MAC--Type--Data--FCS
+ 局域网帧结构IEEE802.3
  D.MAC--S.MAC--Length--** LLC **--SNAP--Data--FCS
+ MAC
  - 介质控制访问
  - 作用：数据帧的分装/卸载，帧的寻址和识别，帧的接收与发送。链路的管理，帧的差错控制等。MAC子层的存在屏蔽了不同物理链路种类的差异性。
+ LLC
  - LLC逻辑控制访问
  - 作用：LLC子层的主要功能为传输可靠性保障和控制，数据报的分段与重组，数据包的顺序传输
+ 注解：该协议位于OSI七层协议中数据链路层，数据链路层分为上层LLC(逻辑链路控制)、和下层的MAC(媒体访问控制)。MAC主要负责控制与连接物理层的物理介质。
  - 在发送数据的时候。MAC协议可以事先判断是否可以发送数据，如果可以发送将给数据加上一些控制信息。最终将数据以及控制信息以规定的格式发送到物理层。
  - 在接收数据的时候。MAC协议首先判断输入的信息并是否发生传输错误，如果没有错误，则去掉控制信息发送至LLC（逻辑链路层）控制。
## 1.4数据链路层的两种传输方式
单播
广播
## 1.5数据链路层的三个基本问题
+ 封装成帧
+ 透明传输
+ 差错检测
  - 奇数校验
  - 偶数校验
  - CRC校验
## 1.6局域网中的设备
+ 集线器--HUB,集线器的主要功能是对接收到的信号进行再生整形放大，以扩大网络的传输距离同时把所有节点集中在以它为中心的节点上。--物理层--共享带宽
+ 交换机--Switch是一种用于电光信号转发的网络设备，它可以为接入交换机的任意两个网络节点提供独享的电信通路，最长见的交换机是以太网交换机--数据链路层--独享带宽
+ 网桥--两个端口的交换机--物理层、数据链路层之间

# 2.链路层通信协议
***
## 2.1冲突域和广播域
+ 冲突域：交换机的每一个端口就是一个冲突域，冲突域只发生在一个网段
+ 广播域：交换机的所有接口都在一个广播域，广播域在一个或多个网段发生
+ 区别
  - 冲突域是基于第一层，广播域是基于第二层
  
## 2.2虚拟局域网VLAN
+ VLAN即虚拟局域网，是将一个物理的LAN在逻辑上划分成多个广播域的通信技术。VLAN的主机端可以直接通信，而VLAN间不能直接通信，从而将广播报文限制在一个VLAN内。
+ 优点和目的
  - 划分广播域--减少垃圾数据
  - 增强局域网的安全性
  - 提高健壮性
  - 灵活构建工作组
+ 划分VLAN的方式
  - 基于端口
    * 给交换机得每个端口配置不同得PVID
    * Access--只允许通过一个VLAN
    * Trunk--允许通过多个VLAN
    * Hybird--
  - 基于子网
  - 基于MAC地址
  - 基于协议
  - 基于匹配策略
## 2.4CSMA/CD
+ 载波监听多路访问/冲突检测，是广播型信道中一种随机访问技术的竞争型访问方式。检测总线型是否出现传输冲突的方法。
+ 四大特点
  - 1.先听再发
  - 2.边听边发
  - 3.冲突检测
  - 4.延迟后发
## 2.5 PPP
+ 点对点通信是一对一信道，数据传输时出现的--实现两端通信协议的封装--单播
## 2.6 CRC---循环冗余校验
+ 通过校验码差错

