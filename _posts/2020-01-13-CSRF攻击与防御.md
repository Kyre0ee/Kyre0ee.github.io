---
layout: post
title: CSRF攻击与防御
date: 2020-01-13 09:30
tags: web安全
excerpt: "本文介绍web安全漏洞-CSRF 攻击与防御技术。"
toc: true
---	
# CSRF 攻击与防御

## 攻击技术细节：

### 1. CSRF 攻击原理：

跨站请求伪造（Cross-Site Request Forgery，CSRF）攻击是一种利用用户已认证的身份在用户不知情的情况下执行非预期的操作的攻击方式。攻击者通过欺骗用户访问恶意网站或点击恶意链接，来触发用户在其他网站上已登录账户的操作，比如发起转账、修改密码等。

#### 示例：

假设用户已登录银行网站，并且在未退出登录的情况下访问了一个恶意网站。恶意网站上包含以下代码：

```html
<img src="http://bank.com/transfer?to=attacker&amount=1000000" style="display:none" />
用户在访问恶意网站时，浏览器会自动向银行网站发送转账请求，由于用户已登录，银行网站会执行该请求，从而完成转账操作。
```
#### 防御手段：

* 随机令牌（CSRF Token）：在用户登录时生成一个随机的令牌，并将其与用户的会话关联起来。在发起重要操作时，将这个令牌作为参数一并发送，服务器验证该令牌的有效性，防止 CSRF 攻击。

* 同源策略（Same Origin Policy）：浏览器遵循同源策略，限制来自不同源的页面对当前页面的访问，从而防止 CSRF 攻击。
