---
layout: post
title: 越界读写漏洞的攻击与防御
date: 2020-01-31 09:30
tags: 二进制安全
excerpt: "本文介绍二进制安全漏洞-越界读写漏洞的攻击与防御。"
toc: true
---	

# 越界读写漏洞

## 描述

越界读写漏洞（Out-of-Bounds Read/Write Vulnerabilities）是指程序在访问数组、缓冲区或其他数据结构时，未正确验证索引范围，导致读取或写入超出合法范围的内存数据。这种漏洞可能会导致敏感信息泄露、程序崩溃、执行任意代码等安全问题。

## 案例

考虑以下示例代码，演示了一个简单的越界写漏洞：

```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    int array[5] = {1, 2, 3, 4, 5};
    int index = 5;
    array[index] = 10; // 越界写操作

    printf("array[5]: %d\n", array[index]);

    return 0;
}
```
在上述代码中，数组 array 的长度为 5，但在将值写入 array[5] 时，越过了数组边界，修改了未分配的内存区域。这可能会导致未定义的行为，如程序崩溃或修改其他变量的值。

## 防御手段

### 边界检查

在访问数组或缓冲区前，始终验证索引范围，确保访问的内存地址在合法范围内。

### 使用安全函数

使用安全函数来处理字符串和缓冲区，如 strncpy()、snprintf() 等，这些函数能够在写入数据时自动进行边界检查。

### 内存分配检查

在动态内存分配时，始终检查返回的指针是否为NULL，并且确保分配的内存块足够大，避免越界读写漏洞。

## 总结

越界读写漏洞是由于未正确验证索引范围而导致的安全问题，可能会导致敏感信息泄露、程序崩溃或执行任意代码。通过实施边界检查、使用安全函数和内存分配检查等## 防御手段，可以有效减少越界读写漏洞的发生，提高程序的安全性和稳定性。
